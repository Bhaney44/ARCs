---
aip: 3
title: Algorand Standard Asset Parameters Conventions for Fungible and Non-Fungible Tokens
status: Draft
---

# Algorand Standard Asset Parameters Conventions for Fungible and Non-Fungible Tokens

## Summary

This document introduce conventions for the parameters of Algorand Standard Assets (ASAs) for fungible tokens and non-fungible tokens (NFTs).

## Abstract

The goal of these conventions is to make it simpler for block explorers, wallets, exchanges, marketplaces, and more generally, client software to display the properties of a given ASA.


## Specification

The key words "**MUST**", "**MUST NOT**", "**REQUIRED**", "**SHALL**", "**SHALL NOT**", "**SHOULD**", "**SHOULD NOT**", "**RECOMMENDED**", "**MAY**", and "**OPTIONAL**" in this document are to be interpreted as described in [RFC-2119](https://www.ietf.org/rfc/rfc2119.txt).

> Comments like this are non-normative.

An ARC-3 ASA has an associated JSON metadata file, formatted as specified below, that is stored off-chain.

### ASA Parameters Conventions

The ASA parameters should follow the following conventions:

* *Unit Name* (`un`): no restriction but **SHOULD** be related to the name in the JSON metadata file
* *Asset Name* (`an`): **MUST** be:
    * either exactly `arc3` (without any space)
    * or `<name>@arc3`, where `<name>` **SHOULD** be closely related to the name in the JSON metadata file:
        * If the resulting asset name can fit the *Asset Name* field, then `<name>` **SHOULD** be equal to the name in the JSON metadata file.
        * If the resulting asset name cannot fit the *Asset Name* field, then `<name>` **SHOULD** be a reasonable shorten version of the name in the JSON metadata file.
* *URL* (`au`): a URI pointing to a JSON metadata file
    * The URI **SHOULD** be persistent and allow to download the JSON Metadata file forever.
    * If the string `{id}` exists in this URI or any other URI, clients **MUST** replace this with the asset ID in decimal form. The rules below applies after such a replacement.
    * The URI **MUST** follow [RFC-3986](https://www.ietf.org/rfc/rfc3986.txt) and **MUST NOT** contain any whitespace character
    * **RECOMMENDED** URI schemes (for compatibility and security): *https* and *ipfs*:
        * When the file is stored on IPFS, the `ipfs://...` URI **SHOULD** be used. IPFS Gateway URI (such as `https://ipfs.io/ipfs/...`) **SHOULD NOT** be used.
    * **NOT RECOMMENDED** URI schemes: *http* (due to security concerns).
* *Asset Metadata (Hash)* (`am`): 
    * If the JSON metadata file specifies extra metadata `e` (property `extra_metadata`), then `am` is defined as:

        ```plain
        am = SHA-512/256("arc0003/am" || SHA-512/256("arc0003/amj" || content of JSON metadata file) || e)
        ```

        where `||` denotes concatenation and SHA-512/256 is defined in [NIST FIPS 180-4](https://doi.org/10.6028/NIST.FIPS.180-4).
        The above definition of `am` **MUST** be used when the property `extra_metadata` is specified, even if its value `e` is the empty string.
        Python code to compute the hash and a full example are provided below (see "Sample with Extra Metadata").
        > Extra metadata can be used to store data about the asset that needs to be accessed from a smart contract. The smart contract would not be able to directly read the metadata. But, if provided with the hash of the JSON metadata file and with the extra metadata `e`, the smart contract can check that `e` is indeed valid.
    * If the JSON metadata file does not specify the property `extra_metadata`, then `am` is defined as the SHA-256 digest of the JSON metadata file as a 32-byte string (as defined in [NIST FIPS 180-4](https://doi.org/10.6028/NIST.FIPS.180-4))

There are no requirements regarding the manager account of the ASA, or its the reserve account, freeze account, or clawback account.

#### Pure and Fractional NFTs

An ASA is said to be a *pure non-fungible token* (*pure NFT*) if and only if it has the following poperties:

* *Total Number of Units* (`t`) **MUST** be 1. 
* *Number of Digits after the Decimal Point* (`dc`) **MUST** be 0.

An ASA is said to be a *fractional non-fungible token* (*fractional NFT*) if and only if it has the following properties:

* *Total Number of Units* (`t`) **MUST** be a power of 10 larger than 1: 10, 100, 1000, ...
* *Number of Digits after the Decimal Point* (`dc`) **MUST** be equal to the logarithm in base 10 of total number of units.

> In other words, the total supply of the ASA is exactly 1.

### JSON Metadata File Schema

> The JSON Medata File schema follow the Ethereum Improvement Proposal [ERC-1155 Metadata URI JSON Schema](https://eips.ethereum.org/EIPS/eip-1155) with one important difference: it allows to specify metadata hashes of localized versions.

Similarly to ERC-1155, the URI does support ID substitution. If the URI contains `{id}`, clients **MUST** substitute it by the asset ID in *decimal*.

> Contrary to ERC-1155, the ID is represented in decimal (instead of hexadecimal) to match what current APIs and block explorers use on the Algorand blockchain.

> Compared to ERC-1155, the schema allows for extra metadata that is hashed as part of the asset metadata (`am`) of the ASA.

The JSON Metadata schema is as follows:

```json
{
    "title": "Token Metadata",
    "type": "object",
    "properties": {
        "name": {
            "type": "string",
            "description": "Identifies the asset to which this token represents"
        },
        "decimals": {
            "type": "integer",
            "description": "The number of decimal places that the token amount should display - e.g. 18, means to divide the token amount by 1000000000000000000 to get its user representation."
        },
        "description": {
            "type": "string",
            "description": "Describes the asset to which this token represents"
        },
        "extra_metadata": {
            "type": "string",
            "description": "Extra metadata in base64. If the property is specified (even if it is an empty string) the asset metadata (am) of the ASA is computed differently than if it is not specified."
        },
        "image": {
            "type": "string",
            "description": "A URI pointing to a resource with mime type image/* representing the asset to which this token represents. Consider making any images at a width between 320 and 1080 pixels and aspect ratio between 1.91:1 and 4:5 inclusive."
        },
        "properties": {
            "type": "object",
            "description": "Arbitrary properties. Values may be strings, numbers, object or arrays."
        }
    }
}
```

The property `decimals` is **OPTIONAL**. If provided, it **MUST** match the ASA parameter `dt`.

#### Sample

An example of an ARC-3 Metadata JSON file follows. The properties array proposes some SUGGESTED formatting for token-specific display properties and metadata.

```json
{
	"name": "My Picture",
	"description": "Lorem ipsum...",
	"image": "https:\/\/s3.amazonaws.com\/your-bucket\/images\/MyPicture.png",
	"properties": {
		"simple_property": "example value",
		"rich_property": {
			"name": "Name",
			"value": "123",
			"display_value": "123 Example Value",
			"class": "emphasis",
			"css": {
				"color": "#ffffff",
				"font-weight": "bold",
				"text-decoration": "underline"
			}
		},
		"array_property": {
			"name": "Name",
			"value": [1,2,3,4],
			"class": "emphasis"
		}
	}
}
```

An example of possible ASA parameters would be:

* *Asset Unit*: `mypict` for example
* *Asset Name*: `My Picture@arc3` or `arc3`
* *URL*: `ipfs://QmWS1VAdMD353A6SDk9wNyvkT14kyCiZrNDYAad4w1tKqT` or `https://example.com/mypict` or `https://arweave.net/MAVgEMO3qlqe-qHNVs00qgwwbCb6FY2k15vJP3gBLW4`
* *Metadata Hash*: the 32 bytes of the SHA-256 digest of the above JSON file
* *Total Number of Units*: 100
* *Number of Digits after the Decimal Point*: 2

The above parameters define a fractional NFT with 100 shares.

#### Sample with Extra Metadata

An example of an ARC-3 JSON Metadata file with extra metadata is provided below.

```json
{
	"name": "My Picture",
	"description": "Lorem ipsum...",
	"image": "https://s3.amazonaws.com/your-bucket/images/MyPicture.png",
	"extra_metadata": "iHcUslDaL/jEM/oTxqEX++4CS8o3+IZp7/V5Rgchqwc=",
}
```

The possible ASA parameters are the same as with the previous example, except for the metadata hash that would be the 32-byte string corresponding to the base64 string `RwtAnL/6YbmR0I2oAeU/vl6yusgBZvooQqxh4kjY6Xk=`.

> For completeness, we provide below a Python program that computes this metadata hash:
```python
import base64
import hashlib

extra_metadata_base64 = "iHcUslDaL/jEM/oTxqEX++4CS8o3+IZp7/V5Rgchqwc="
extra_metadata = base64.b64decode(extra_metadata_base64)
json_metadata = """{
	"name": "My Picture",
	"description": "Lorem ipsum...",
	"image": "https://s3.amazonaws.com/your-bucket/images/MyPicture.png",
	"extra_metadata": "iHcUslDaL/jEM/oTxqEX++4CS8o3+IZp7/V5Rgchqwc=",
}"""

h = hashlib.new("sha512_256")
h.update(b"arc0003/amj")
h.update(json_metadata.encode("utf-8"))
json_metadata_hash = h.digest()

h = hashlib.new("sha512_256")
h.update(b"arc0003/am")
h.update(json_metadata_hash)
h.update(extra_metadata)
am = h.digest()

print("Asset metadata in base64: ")
print(base64.b64encode(am).decode("utf-8"))
```

#### Localization

If the metadata JSON file contains a `localization` attribute, its content **MAY** be used to provide localized values for fields that need it. The `localization` attribute should be a sub-object with three **REQUIRED** attributes: `uri`, `default`, `locales`, and one **RECOMMENDED** attribute: `integrity`. If the string `{locale}` exists in any URI, it **MUST** be replaced with the chosen locale by all client software.

> Compared to ERC-1155, the `localization` attribute contains an additional optional `integrity` field that specify the digests of the localized JSON files.

##### JSON Schema

```json
{
    "title": "Token Metadata",
    "type": "object",
    "properties": {
        "name": {
            "type": "string",
            "description": "Identifies the asset to which this token represents",
        },
        "decimals": {
            "type": "integer",
            "description": "The number of decimal places that the token amount should display - e.g. 18, means to divide the token amount by 1000000000000000000 to get its user representation. If provided, it must match the ASA parameter `dt`."
        },
        "description": {
            "type": "string",
            "description": "Describes the asset to which this token represents"
        },
        "extra_metadata": {
            "type": "string",
            "description": "Extra metadata in base64. If the property is specified (even if it is an empty string) the asset metadata (am) of the ASA is computed differently than if it is not specified."
        },
        "image": {
            "type": "string",
            "description": "A URI pointing to a resource with mime type image/* representing the asset to which this token represents. Consider making any images at a width between 320 and 1080 pixels and aspect ratio between 1.91:1 and 4:5 inclusive."
        },
        "properties": {
            "type": "object",
            "description": "Arbitrary properties. Values may be strings, numbers, object or arrays.",
        },
        "localization": {
            "type": "object",
            "required": ["uri", "default", "locales"],
            "properties": {
                "uri": {
                    "type": "string",
                    "description": "The URI pattern to fetch localized data from. This URI should contain the substring `{locale}` which will be replaced with the appropriate locale value before sending the request."
                },
                "default": {
                    "type": "string",
                    "description": "The locale of the default data within the base JSON"
                },
                "locales": {
                    "type": "array",
                    "description": "The list of locales for which data is available. These locales should conform to those defined in the Unicode Common Locale Data Repository (http://cldr.unicode.org/)."
                },
                "integrity": {
                    "type": "object",
                    "patternProperties": {
                        ".*": { "type": "string" }
                    },
                    "description": "The SHA-256 digests of the localized JSON files (except the default one). The property name is the locale. The property value is a single SHA-256 integrity metadata as defined in the W3C subresource integrity specification (https://w3c.github.io/webappsec-subresource-integrity)."
                }
            }
        }
    }
}
```

It is **RECOMMENDED** that `integrity` contains the digests of all the locales but the default one.

##### Localized Sample

Base URI:
```json
{
  "name": "Advertising Space",
  "description": "Each token represents a unique Ad space in the city.",
  "localization": {
    "uri": "ipfs://QmWS1VAdMD353A6SDk9wNyvkT14kyCiZrNDYAad4w1tKqT/{locale}.json",
    "default": "en",
    "locales": ["en", "es", "fr"],
    "integrity": {
      "es": "sha256-2LkfVX+5fcopBS2XMV2O3/a/xLNmJqwepq486hlb/eQ=",
      "fr": "sha256-oZWli3UFVdzvTX4otKV0wjtNCF8btjhOTliyJLn7Pv0="
    }
  }
}
```

es.json:
```json
{
  "name": "Espacio Publicitario",
  "description": "Cada token representa un espacio publicitario único en la ciudad."
}
```

fr.json:
```json
{
  "name": "Espace Publicitaire",
  "description": "Chaque jeton représente un espace publicitaire unique dans la ville."
}
```


## Rationale

These conventions are heavily based on Ethereum Improvement Proposal [ERC-1155 Metadata URI JSON Schema](https://eips.ethereum.org/EIPS/eip-1155) to facilitate interoperobility. The main differences are highlighted below:

* Asset Name and Asset Unit can be optionally specified in the ASA parameters. This is to allow wallets that are not aware of ARC-3 or that are not able to retrieve the JSON file to still display meaningful information.
* A digest of the JSON Metadata file is included in the ASA parameters to ensure integrity of this file. This is redundant with the URI when IPFS is used. But this is important to ensure the integrity of the JSON file when IPFS is not used.
* Similarly, the JSON Metadata schema is changed to allow to specify the SHA-256 digests of the localized versions.
* When extra metadata are provided, the asset metadata parameter is computed using SHA-512/256 with prefix for proper domain separation. SHA-512/256 is the hash function used in Algorand in general (see the list of prefixes in https://github.com/algorand/go-algorand/blob/master/protocol/hash.go). Domain separation is especially important in this case to avoid mixing hash of the metadata JSON file with extra metadata. However, since SHA-512/256 is less common and since not every tool or library allows to compute SHA-512/256, when no extra metadata is specified, SHA-256 is used instead.

The asset name is either `arc3` or suffixed by `@arc3` to allow client software to know when an asset follows the conventions.

## Copyright

Copyright and related rights waived via [CC0](https://creativecommons.org/publicdomain/zero/1.0/).